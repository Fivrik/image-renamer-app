# AI Image Renamer

Upload images and get descriptive, human-friendly file names generated by AI. Built with React, TypeScript, Vite, Tailwind, and Vercel serverless functions.

## Prerequisites

- Node.js 18.x
- A Vercel account (for local serverless emulation and deployment)
- An Anthropic API key stored as `ANTHROPIC_API_KEY`

## Getting Started (Local)

1. Install dependencies:

   ```bash
   npm install
   ```

2. Set your environment variable (do not expose this to the client):

   ```bash
   # For local terminal session
   export ANTHROPIC_API_KEY=sk-ant-...
   ```

3. Run with Vercel’s local runtime (recommended):

   ```bash
   vercel dev
   ```

   - This runs serverless functions on port 3000 and Vite on another port.
   - The app proxies `/api/analyze-image` to Vercel dev automatically.

4. Alternative: Run Vite only (functions unavailable):

   ```bash
   npm run dev
   ```

   - Note: Without `vercel dev`, the `/api/analyze-image` route won’t be available.

## Deployment

1. Add the `ANTHROPIC_API_KEY` secret in your Vercel project settings.
2. Deploy via the Vercel dashboard or CLI (`vercel`).
3. The function `api/analyze-image.ts` reads the key from server-side env only.

## Security Notes

- Do not add client-exposed env variables for secrets. The frontend never needs the API key.
- The API route is designed to avoid logging sensitive data and to respond with minimal error info.

### Secret Exposure Remediation

If any real API keys were committed to the repository history:

- Rotate the exposed keys immediately in Anthropic’s console.
- Sanitize the working tree (this repo now uses placeholders in `.env` and `.env.local`).
- Purge secrets from git history via one of the following:
  - Using git-filter-repo (recommended):
    - Install: `pip install git-filter-repo` or via your package manager
    - Rewrite: `git filter-repo --path .env --path .env.local --invert-paths`
  - Or using BFG Repo-Cleaner:
    - `bfg --delete-files .env --delete-files .env.local`
  - Force-push to the remote after verifying: `git push --force`

Also consider revoking any other credentials that may have been derived from the exposed key.

## Development Notes

- The app processes images with a small concurrency cap to avoid rate limits.
- When the AI naming fails, the UI shows a toast and uses a local fallback filename.
- Tailwind is used for basic styling; feel free to expand the design as needed.

---

## Tech Stack Template (Origin)

This project started from the Vite + React + TypeScript template with ESLint. For template-specific ESLint configuration tips, see Vite’s documentation and the ESLint configs.
