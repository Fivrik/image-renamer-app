# AI Image Renamer

Upload images and get descriptive, human-friendly file names generated by AI. Built with React, TypeScript, and powered by Claude AI.

## Features
- ü§ñ **AI-powered naming** - Claude AI analyzes your images and creates descriptive names
- üë• **People identification** - Recognizes people in photos and adds their names to filenames
- üìÖ **Automatic date extraction** - Adds photo taken date from EXIF data (format: YYYY_MM_DD)
- üîç **Smart detection** - Recognizes already-renamed images and skips them gracefully
- üì¶ **Batch processing** - Rename multiple images at once
- ‚úèÔ∏è **Editable names** - Customize the AI-generated names before downloading

## For Users (Simple Setup)

### What You Need
1. **Node.js** - Download from [nodejs.org](https://nodejs.org) (choose the LTS version)
2. **Anthropic API Key** - Get one free at [console.anthropic.com](https://console.anthropic.com)

### Quick Start

#### Windows Users
1. Double-click `start.bat`
2. Follow the setup instructions if this is your first time
3. The app will open in your browser at `http://localhost:3000`

#### Mac/Linux Users
1. Open Terminal in this folder
2. Run: `./start.sh`
3. Follow the setup instructions if this is your first time
4. The app will open in your browser at `http://localhost:3000`

### First Time Setup
When you first run the app, you'll need to:

1. **Get an API Key:**
   - Go to [console.anthropic.com](https://console.anthropic.com)
   - Sign up for a free account
   - Create an API key
   - Copy the key (starts with `sk-ant-`)

2. **Set Your API Key:**
   
   **Windows (Command Prompt):**
   ```bash
   set ANTHROPIC_API_KEY=sk-ant-your-key-here
   ```
   
   **Windows (PowerShell):**
   ```bash
   $env:ANTHROPIC_API_KEY="sk-ant-your-key-here"
   ```
   
   **Mac/Linux:**
   ```bash
   export ANTHROPIC_API_KEY=sk-ant-your-key-here
   ```

3. **Run the app again** using the start script

### How to Use
1. **Tag people first** (recommended): Use Windows Photo Gallery or similar software to tag people in your photos
2. **Upload images**: Click "Choose Files" to select photos
3. **Process images**: The app will use your existing tags or AI detection, extract dates, and generate descriptive names
4. **Download**: Get your renamed images with smart filenames
5. That's it! üéâ

### üí° Important: Tag People Before Using the App
For the best results, **tag people in your photos first** using:
- **Windows Photo Gallery** (recommended)
- **Adobe Bridge or Lightroom**
- Any software that saves people tags to XMP metadata

The app will:
- ‚úÖ **Use your exact tags** for photos you've already tagged
- ü§ñ **Use AI detection** as a fallback for untagged photos

### What the App Does
- **Identifies people**: Recognizes people you've added to the known people list and includes their names in filenames
- **Extracts photo date**: Reads EXIF metadata to find when the photo was taken
- **Creates smart names**: Combines date + people + AI description (e.g., `2024_03_15_mom_and_sarah_birthday_party_with_cake.jpg`)
- **Skips renamed files**: If a file looks already renamed, it shows "Already renamed" and keeps the original name
- **Falls back gracefully**: Uses file modification date if no EXIF data is available

### People Management
- **Add known people**: Provide names and detailed descriptions to help the AI recognize them
- **Smart matching**: The AI uses your descriptions to identify people in photos with confidence levels
- **Visual feedback**: See detected people displayed with purple icons in image cards
- **Confidence filtering**: Only high/medium confidence matches are included in filenames
- **Flexible naming**: People names are automatically formatted for filenames (lowercase, underscores)
- **Easy management**: Add, remove, and view all known people through the "Manage People" button
- **Privacy-first**: All people data is stored locally in your browser - never uploaded to servers

---

## For Developers

### Prerequisites
- Node.js 22.x
- An Anthropic API key

### Development Setup

1. **Install dependencies:**
   ```bash
   npm install
   ```

2. **Build the app:**
   ```bash
   npm run build
   ```

3. **Set environment variable:**
   ```bash
   # Windows (Command Prompt)
   set ANTHROPIC_API_KEY=sk-ant-your-key-here
   
   # Windows (PowerShell)
   $env:ANTHROPIC_API_KEY="sk-ant-your-key-here"
   
   # Mac/Linux
   export ANTHROPIC_API_KEY=sk-ant-your-key-here
   ```

4. **Start the server:**
   ```bash
   npm start
   ```

### Available Scripts
- `npm start` - Run the production server
- `npm run dev` - Run Vite development server (frontend only)
- `npm run build` - Build the app for production
- `npm run setup` - Install dependencies and build
- `npm run lint` - Check code quality

### Architecture
- **Frontend**: React + TypeScript + Vite + Tailwind CSS
- **Backend**: Express.js server (`server.js`)
- **AI**: Anthropic Claude API for image analysis and people detection
- **Storage**: Local browser storage for known people data

## Sharing This App

To share this app with others:

1. **Zip the entire folder** (make sure to include all files)
2. **Share the zip file** via email, cloud storage, etc.
3. **Tell them to:**
   - Extract the zip file
   - Install Node.js from [nodejs.org](https://nodejs.org)
   - Get an API key from [console.anthropic.com](https://console.anthropic.com)
   - Run the start script (`.bat` for Windows, `.sh` for Mac/Linux)

## Security Notes

- Your API key is only used on your computer - it never gets shared
- Images are processed securely through the Anthropic API
- People data is stored locally in your browser - never sent to external servers
- No data is stored permanently on our servers - everything stays on your machine

---

## Troubleshooting

**"Node.js is not installed" error:**
- Download and install Node.js from [nodejs.org](https://nodejs.org)

**"Missing API key" error:**
- Make sure you set the `ANTHROPIC_API_KEY` environment variable
- Double-check your API key is correct

**App won't start:**
- Try running `npm install` first
- Make sure you're in the correct folder

**Need help?**
- Check that Node.js is installed: `node --version`
- Verify your API key is set: `echo $ANTHROPIC_API_KEY` (Mac/Linux) or `echo %ANTHROPIC_API_KEY%` (Windows)